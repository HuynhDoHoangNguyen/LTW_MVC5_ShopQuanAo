@model WebsiteShopQuanAo.Models.SAN_PHAM

@{
    ViewBag.Title = "Chi tiết sản phẩm";
}

@section Styles {
    <link href="@Url.Content("~/Areas/Admin/Boot/css/admin-forms-complete.css")" rel="stylesheet" />
}

<div class="create-page-body">
    <div class="create-container">
        <div class="create-header">
            <div class="create-title-section">
                <h1 class="create-main-title">
                    <i class="fas fa-eye"></i>
                    Chi tiết sản phẩm
                </h1>
                <p class="create-subtitle">Xem thông tin đầy đủ về sản phẩm trong hệ thống</p>
                @* Cập nhật điều hướng về StatusShop cho đồng bộ *@
                <a href="@Url.Action("StatusShop")" class="back-to-list-btn">
                    <i class="fas fa-arrow-left"></i>
                    Quay lại danh sách
                </a>
            </div>
        </div>

        <div class="form-card-create">
            <div class="card-header-create">
                <h4><i class="fas fa-info-circle"></i> Thông tin sản phẩm</h4>
            </div>
            <div class="card-body-create">
                <div class="row">
                    <div class="col-md-4 text-center mb-4">
                        <div class="control-label-create mb-3">
                            <i class="fas fa-image"></i> Ảnh sản phẩm
                        </div>
                        <div class="product-image-display">
                            @if (Model.HINH_ANH_SP != null && Model.HINH_ANH_SP.Any())
                            {
                                var hinh = Model.HINH_ANH_SP.FirstOrDefault();
                                <img src="@Url.Content("~/UI_User/assets/img/product/small-product/"+@hinh.TENHINHANH)"
                                     alt="@Model.TENSP"
                                     class="img-fluid rounded shadow-sm"
                                     style="max-height: 350px; border: 1px solid #ddd; padding: 5px;" />
                            }
                            else
                            {
                                <div class="no-image-placeholder">
                                    <i class="fas fa-image fa-4x text-muted"></i>
                                    <p class="text-muted mt-2">Chưa có hình ảnh</p>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="col-md-8">
                        <div class="details-section">
                            <div class="form-group-create">
                                <div class="control-label-create">
                                    <i class="fas fa-barcode"></i> Mã sản phẩm
                                </div>
                                <div class="form-input-create">
                                    <div class="detail-value">@Model.MASP</div>
                                </div>
                            </div>

                            <div class="form-group-create">
                                <div class="control-label-create">
                                    <i class="fas fa-tag"></i> Tên sản phẩm
                                </div>
                                <div class="form-input-create">
                                    <div class="detail-value">@Model.TENSP</div>
                                </div>
                            </div>

                            <div class="form-group-create">
                                <div class="control-label-create">
                                    <i class="fas fa-list"></i> Danh mục
                                </div>
                                <div class="form-input-create">
                                    <div class="detail-value">@(Model.DANH_MUC != null ? Model.DANH_MUC.TENDM : "Chưa phân loại")</div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group-create">
                                        <div class="control-label-create">
                                            <i class="fas fa-boxes"></i> Số lượng tồn
                                        </div>
                                        <div class="form-input-create">
                                            <div class="detail-value">@Model.SOLUONGTON</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group-create">
                                        <div class="control-label-create">
                                            <i class="fas fa-toggle-on"></i> Trạng thái
                                        </div>
                                        <div class="form-input-create">
                                            @if (Model.TRANGTHAI == true)
                                            {
                                                <span class="status-badge active">
                                                    <i class="fas fa-check-circle"></i> Đang hoạt động
                                                </span>
                                            }
                                            else
                                            {
                                                <span class="status-badge inactive">
                                                    <i class="fas fa-times-circle"></i> Ngừng hoạt động
                                                </span>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group-create">
                                <div class="control-label-create">
                                    <i class="fas fa-align-left"></i> Mô tả
                                </div>
                                <div class="form-input-create">
                                    <div class="detail-value block-text">@Html.Raw(Model.MOTA != null ? Model.MOTA.Replace("\n", "<br/>") : "Không có mô tả")</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions-create mt-4">
                    <a href="@Url.Action("Edit", new { id = Model.MASP })" class="btn-create btn-create-primary">
                        <i class="fas fa-edit"></i> Chỉnh sửa
                    </a>
                    <a href="@Url.Action("StatusShop")" class="btn-create btn-create-secondary">
                        <i class="fas fa-list"></i> Danh sách
                    </a>
                </div>
            </div>
        </div>

        <div class="create-footer">
            <div class="footer-logo-create">
                <i class="fas fa-tshirt"></i>
                <span>ShopQuanAo Admin</span>
            </div>
            <p class="footer-text-create">Dữ liệu được cập nhật lần cuối: @DateTime.Now.ToString("dd/MM/yyyy HH:mm")</p>
        </div>
    </div>
</div>
<style>
    .detail-value {
        padding: 14px 16px;
        background: var(--bg-tertiary);
        border: 2px solid transparent;
        border-radius: var(--border-radius);
        font-size: 15px;
        color: var(--text-primary);
        min-height: 48px;
        display: flex;
        align-items: center;
    }

    .status-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 14px;
    }

        .status-badge.active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .status-badge.inactive {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .status-badge i {
            font-size: 16px;
        }

    .details-section {
        margin-bottom: 30px;
    }
</style>